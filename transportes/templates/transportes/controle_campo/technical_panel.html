{% extends 'global/base.html' %} {% load static %} {% block content %}

<style>
  .forma {
    visibility: none;
  }
</style>
<!-- Container principal com espaçamento -->
<div class="painel-container">
  <!-- Resumo Geral -->
  <h3 class="text-xl font-semibold mb-3">Resumo Geral</h3>
  <div class="resumo-geral flex flex-wrap gap-3 justify-between">
    <div class="status-item flex flex-col items-center">
      <div class="status-label">Total</div>
      <div class="status-value bg-gray-200 text-black">
        {{ contadores_geral_total }}
      </div>
    </div>
    {% for s in status_data %}
    <div class="status-item flex flex-col items-center">
      <div class="status-label">{{ s.label }}</div>
      <div class="status-value {{ s.style }}">{{ s.value }}</div>
    </div>
    {% endfor %}
  </div>
  <br />
  <!-- Resumo por Técnico -->
  <div class="mt-10">
    <h3 class="text-xl font-semibold mb-3">Resumo por Técnico</h3>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {% for t in tecnicos %}
      <div class="card-tecnico">
        <div class="header">
          <div class="flex items-center gap-3">
            <div class="avatar">{{ t.iniciais }}</div>
            <div>
              <p class="nome">{{ t.nome }}</p>
              <p class="uid">UID {{ t.uid }}</p>
            </div>
          </div>
          <span class="total">Total: {{ t.total }}</span>
        </div>

        <div class="status-grid">
          {% for s in t.status_counts %}
          <div class="status-bar {{ s.style }}">{{ s.value }}</div>
          {% endfor %}
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock content %}
